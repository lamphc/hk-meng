(this["webpackJsonphkzf-mobile"]=this["webpackJsonphkzf-mobile"]||[]).push([[14],{223:function(e,t,n){"use strict";n(16),n(224)},224:function(e,t,n){},225:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(1)),r=u(n(2)),i=u(n(6)),c=u(n(3)),o=u(n(5)),s=u(n(9)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&(n[a[r]]=e[a[r]])}return n},d=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.className,r=e.children,i=e.mode,c=e.icon,o=e.onLeftClick,u=e.leftContent,d=e.rightContent,m=f(e,["prefixCls","className","children","mode","icon","onLeftClick","leftContent","rightContent"]);return l.createElement("div",(0,a.default)({},m,{className:(0,s.default)(n,t,t+"-"+i)}),l.createElement("div",{className:t+"-left",role:"button",onClick:o},c?l.createElement("span",{className:t+"-left-icon","aria-hidden":"true"},c):null,u),l.createElement("div",{className:t+"-title"},r),l.createElement("div",{className:t+"-right"},d))}}]),t}(l.Component);t.default=d,d.defaultProps={prefixCls:"am-navbar",mode:"dark",onLeftClick:function(){}},e.exports=t.default},334:function(e,t,n){},395:function(e,t,n){"use strict";n.r(t);n(223);var a=n(225),r=n.n(a),i=(n(115),n(116)),c=n.n(i),o=n(21),s=n.n(o),l=(n(114),n(48)),u=n.n(l),f=n(35),d=n(36),m=n(38),h=n(37),y=n(39),p=n(0),v=n.n(p),g=n(72),x=n(29),b=n(302),C=(n(334),function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={cityIndex:[],cityList:{},activeIndex:0},n.getRowHeight=function(e){var t=e.index,a=n.state,r=a.cityIndex;return 36+50*a.cityList[r[t]].length},n.changeCity=function(e){["\u5317\u4eac","\u4e0a\u6d77","\u5e7f\u5dde","\u6df1\u5733"].includes(e.label)?(Object(x.f)(x.a,JSON.stringify(e)),n.props.history.goBack()):u.a.info("\u8be5\u57ce\u5e02\u6682\u65e0\u623f\u6e90\u6570\u636e\uff01",2)},n.rowRenderer=function(e){var t=e.key,a=e.index,r=(e.isScrolling,e.isVisible,e.style),i=n.state,c=i.cityIndex,o=i.cityList,s=c[a];return v.a.createElement("div",{key:t,style:r,className:"city-item"},v.a.createElement("div",{className:"title"},n.formatLetter(s)),o[s].map((function(e){return v.a.createElement("div",{onClick:function(){return n.changeCity(e)},key:e.value,className:"name"},e.label)})))},n.formatCities=function(e){var t={};return e.forEach((function(e){var n=e.short.slice(0,1);n in t?t[n].push(e):t[n]=[e]})),{cityIndex:Object.keys(t).sort(),cityList:t}},n.renderCityIndex=function(){var e=n.state,t=e.cityIndex,a=e.activeIndex;return t.map((function(e,t){return v.a.createElement("li",{key:e,className:"city-index-item",onClick:function(){console.log(n.listRef),n.listRef.current.scrollToRow(t)}},v.a.createElement("span",{className:a===t?"index-active":""},n.formatLetter(e,!0)))}))},n.onRowsRendered=function(e){var t=e.startIndex;n.state.activeIndex!==t&&(console.log(t),n.setState({activeIndex:t}))},n.getCities=function(){var e,t,a,r,i,c;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,s.a.awrap(Object(g.a)());case 2:if(200!==(e=o.sent).status){o.next=19;break}return console.log("cities:",e.data),t=n.formatCities(e.data),a=t.cityIndex,r=t.cityList,o.next=8,s.a.awrap(Object(g.d)());case 8:return i=o.sent,console.log(i),a.unshift("hot"),r.hot=i.data,o.next=14,s.a.awrap(Object(x.b)());case 14:c=o.sent,a.unshift("#"),r["#"]=[c],console.log("formated:",r,a),n.setState({cityIndex:a,cityList:r});case 19:case"end":return o.stop()}}))},n}return Object(y.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getCities(),this.listRef=v.a.createRef()}},{key:"formatLetter",value:function(e,t){switch(e){case"hot":return t?"\u70ed":"\u70ed\u95e8\u57ce\u5e02";case"#":return t?"\u5f53":"\u5f53\u524d\u57ce\u5e02";default:return e.toUpperCase()}}},{key:"render",value:function(){var e=this;return v.a.createElement("div",{className:"cityList"},v.a.createElement(r.a,{mode:"light",icon:v.a.createElement(c.a,{type:"left"}),onLeftClick:function(){e.props.history.goBack()}},"\u57ce\u5e02\u9009\u62e9"),v.a.createElement(b.a,null,(function(t){var n=t.height,a=t.width;return v.a.createElement(b.c,{height:n,ref:e.listRef,scrollToAlignment:"start",onRowsRendered:e.onRowsRendered,rowCount:e.state.cityIndex.length,rowHeight:e.getRowHeight,rowRenderer:e.rowRenderer,width:a})})),v.a.createElement("ul",{className:"city-index"},this.renderCityIndex()))}}]),t}(p.Component));t.default=C}}]);
//# sourceMappingURL=14.551a129e.chunk.js.map