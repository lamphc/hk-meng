{"version":3,"sources":["components/HouseItem/index.js","components/HouseItem/index.module.css","utils/api/house.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/NoHouse/index.js","components/NoHouse/index.module.css","pages/House/components/FilterTitle/index.module.css","../node_modules/antd-mobile/lib/picker-view/index.js","../node_modules/antd-mobile/lib/picker-view/PickerView.js","components/FilterFooter/index.module.css","pages/House/components/FilterMore/index.module.css","pages/House/components/Filter/index.module.css","pages/House/index.module.css","pages/House/components/FilterTitle/index.js","components/FilterFooter/index.js","pages/House/components/FilterPicker/index.js","pages/House/components/FilterMore/index.js","pages/House/components/Filter/index.js","pages/House/index.js"],"names":["HouseItem","src","title","desc","tags","price","onClick","style","className","styles","house","imgWrap","img","alt","content","map","tag","index","tagClass","join","key","priceNum","module","exports","getHouseFilters","id","axios","get","getHouseByFilters","cityId","params","start","end","getHouseDetail","getHouseFav","addFav","post","delFav","delete","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","NoHouse","children","root","BASE_URL","msg","value","obj","_PickerView","require","_PickerView2","__esModule","_classCallCheck3","_interopRequireDefault","_createClass3","_possibleConstructorReturn3","_inherits3","React","newObj","prototype","hasOwnProperty","call","_interopRequireWildcard","_Cascader2","_MultiPicker2","_Picker2","PickerView","_React$Component","this","_this","__proto__","getPrototypeOf","isMultiPicker","props","data","Array","isArray","getCol","_this$props","pickerPrefixCls","indicatorStyle","itemStyle","col","createElement","prefixCls","flex","item","Item","label","cascade","onChange","onScrollChange","cols","pickerItemStyle","selectedValue","onValueChange","flexDirection","Component","defaultProps","titleList","type","FilterTitle","titleSelectedStatus","onTitleClick","align","dropdown","selected","FilterFooter","onCancel","onOk","btn","cancel","ok","FilterPicker","state","handlerChange","setState","console","log","FilterMore","handlerSel","val","newSelected","indexOf","splice","includes","tagActive","roomType","oriented","floor","characteristic","mask","dl","dt","dd","renderFilters","footer","area","mode","more","selectedValues","Filter","openType","getFilterData","a","async","getCurrCity","res","status","filterData","isShow","newSel","newTitleSelectedStatus","cur","handlerFilters","aval","filters","areaKey","rentType","sel","onFilter","renderFilterPicker","subway","renderFilterMore","HouseList","list","count","getHouseList","success","renderHouseItem","isScrolling","isVisible","houseImg","history","pathname","houseCode","loading","isRowLoaded","loadMoreRows","startIndex","stopIndex","then","renderNoHouse","renderHouseList","rowCount","onRowsRendered","registerChild","height","width","houseList","rowHeight","rowRenderer","ref"],"mappings":"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","file":"static/js/8.c1a888c0.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\n// props\r\n// 1. cheldren -> 获取组件动态内容  <Child>adadsd</Child>\r\n// 2. defautProps -> 为组件设置默认属性  num\r\n// 3. prop-types -> 为组件的属性提供默认类型  age\r\n\r\nimport styles from './index.module.css'\r\n\r\nfunction HouseItem({ src, title, desc, tags, price, onClick, style }) {\r\n  return (\r\n    <div className={styles.house} onClick={onClick} style={style}>\r\n      <div className={styles.imgWrap}>\r\n        <img className={styles.img} src={src} alt=\"\" />\r\n      </div>\r\n      <div className={styles.content}>\r\n        <h3 className={styles.title}>{title}</h3>\r\n        <div className={styles.desc}>{desc}</div>\r\n        <div>\r\n          {/* ['近地铁', '随时看房'] */}\r\n          {tags.map((tag, index) => {\r\n            const tagClass = 'tag' + (index + 1)\r\n            return (\r\n              <span\r\n                className={[styles.tag, styles[tagClass]].join(' ')}\r\n                key={tag}\r\n              >\r\n                {tag}\r\n              </span>\r\n            )\r\n          })}\r\n        </div>\r\n        <div className={styles.price}>\r\n          <span className={styles.priceNum}>{price}</span> 元/月\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nHouseItem.propTypes = {\r\n  src: PropTypes.string,\r\n  title: PropTypes.string,\r\n  desc: PropTypes.string,\r\n  tags: PropTypes.array.isRequired,\r\n  price: PropTypes.number,\r\n  onClick: PropTypes.func\r\n}\r\n\r\nexport default HouseItem\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"house\":\"HouseItem_house__29lYP\",\"imgWrap\":\"HouseItem_imgWrap__3ZPoa\",\"img\":\"HouseItem_img__1BaJK\",\"content\":\"HouseItem_content__1gVhj\",\"title\":\"HouseItem_title__2dXar\",\"desc\":\"HouseItem_desc__5-mp4\",\"price\":\"HouseItem_price__1_r8v\",\"priceNum\":\"HouseItem_priceNum__RGpsE\",\"tag\":\"HouseItem_tag__3MxYv\",\"tag1\":\"HouseItem_tag1__3VDnD\",\"tag2\":\"HouseItem_tag2__2IcZc\",\"tag3\":\"HouseItem_tag3__2L6o6\"};","/**\n * 找房\n */\nimport axios from '../axios';\n\n// 获取当前城市信息\nexport const getHouseFilters = (id = 'AREA|88cff55c-aaa4-e2e0') => {\n  return axios.get(`/houses/condition?id=${id}`)\n}\n\n// 根据筛选条件获取房屋列表\nexport const getHouseByFilters = (cityId, params, start, end) => {\n  return axios.get(`/houses`, {\n    params: {\n      cityId,\n      ...params,\n      start,\n      end\n    }\n  })\n}\n\n// 获取房屋详情\nexport const getHouseDetail = (id) => {\n  return axios.get(`/houses/${id}`)\n}\n\n// 获取房屋是否收藏过\nexport const getHouseFav = (id) => {\n  return axios.get(`/user/favorites/${id}`)\n}\n\n// 添加收藏\nexport const addFav = (id) => {\n  return axios.post(`/user/favorites/${id}`)\n}\n\n// 删除收藏\nexport const delFav = (id) => {\n  return axios.delete(`/user/favorites/${id}`)\n}\n","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\nimport styles from './index.module.css'\r\n\r\nimport { BASE_URL } from '../../utils/axios'\r\n\r\nconst NoHouse = ({ children }) => (\r\n  <div className={styles.root}>\r\n    <img\r\n      className={styles.img}\r\n      src={BASE_URL + '/img/not-found.png'}\r\n      alt=\"暂无数据\"\r\n    />\r\n    <p className={styles.msg}>{children}</p>\r\n  </div>\r\n)\r\n\r\nNoHouse.propTypes = {\r\n  children: PropTypes.node.isRequired\r\n}\r\n\r\nexport default NoHouse\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NoHouse_root__1gj0t\",\"img\":\"NoHouse_img__2Ejwh\",\"msg\":\"NoHouse_msg__1MaAM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"FilterTitle_root__3IaLS\",\"dropdown\":\"FilterTitle_dropdown__20V2M\",\"selected\":\"FilterTitle_selected__Hcw38\"};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _PickerView = require('./PickerView');\n\nvar _PickerView2 = _interopRequireDefault(_PickerView);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nexports['default'] = _PickerView2['default'];\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _Cascader = require('rmc-cascader/lib/Cascader');\n\nvar _Cascader2 = _interopRequireDefault(_Cascader);\n\nvar _MultiPicker = require('rmc-picker/lib/MultiPicker');\n\nvar _MultiPicker2 = _interopRequireDefault(_MultiPicker);\n\nvar _Picker = require('rmc-picker/lib/Picker');\n\nvar _Picker2 = _interopRequireDefault(_Picker);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/* tslint:disable:jsx-no-multiline-js */\nfunction getDefaultProps() {\n    return {\n        prefixCls: 'am-picker',\n        pickerPrefixCls: 'am-picker-col',\n        cols: 3,\n        cascade: true,\n        value: [],\n        onChange: function onChange() {}\n    };\n}\n\nvar PickerView = function (_React$Component) {\n    (0, _inherits3['default'])(PickerView, _React$Component);\n\n    function PickerView() {\n        (0, _classCallCheck3['default'])(this, PickerView);\n\n        var _this = (0, _possibleConstructorReturn3['default'])(this, (PickerView.__proto__ || Object.getPrototypeOf(PickerView)).apply(this, arguments));\n\n        _this.isMultiPicker = function () {\n            if (!_this.props.data) {\n                return false;\n            }\n            return Array.isArray(_this.props.data[0]);\n        };\n        _this.getCol = function () {\n            var _this$props = _this.props,\n                data = _this$props.data,\n                pickerPrefixCls = _this$props.pickerPrefixCls,\n                indicatorStyle = _this$props.indicatorStyle,\n                itemStyle = _this$props.itemStyle;\n\n            var formattedData = _this.isMultiPicker() ? data : [data];\n            return formattedData.map(function (col, index) {\n                return React.createElement(\n                    _Picker2['default'],\n                    { key: index, prefixCls: pickerPrefixCls, style: { flex: 1 }, indicatorStyle: indicatorStyle, itemStyle: itemStyle },\n                    col.map(function (item) {\n                        return React.createElement(\n                            _Picker2['default'].Item,\n                            { key: item.value, value: item.value },\n                            item.label\n                        );\n                    })\n                );\n            });\n        };\n        return _this;\n    }\n\n    (0, _createClass3['default'])(PickerView, [{\n        key: 'render',\n        value: function render() {\n            // tslint:disable-next-line:no-this-assignment\n            var props = this.props;\n\n            var picker = void 0;\n            if (props.cascade) {\n                picker = React.createElement(_Cascader2['default'], { prefixCls: props.prefixCls, pickerPrefixCls: props.pickerPrefixCls, data: props.data, value: props.value, onChange: props.onChange, onScrollChange: props.onScrollChange, cols: props.cols, indicatorStyle: props.indicatorStyle, pickerItemStyle: props.itemStyle });\n            } else {\n                picker = React.createElement(\n                    _MultiPicker2['default'],\n                    { prefixCls: props.prefixCls, selectedValue: props.value, onValueChange: props.onChange, onScrollChange: props.onScrollChange, style: { flexDirection: 'row' } },\n                    this.getCol()\n                );\n            }\n            return picker;\n        }\n    }]);\n    return PickerView;\n}(React.Component);\n\nexports['default'] = PickerView;\n\nPickerView.defaultProps = getDefaultProps();\nmodule.exports = exports['default'];","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"FilterFooter_root__1Tweg\",\"btn\":\"FilterFooter_btn__2mx57\",\"cancel\":\"FilterFooter_cancel__1ZwUx\",\"ok\":\"FilterFooter_ok__n6Bt1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"FilterMore_root__27bqG\",\"mask\":\"FilterMore_mask__qeQJG\",\"tags\":\"FilterMore_tags__2crgA\",\"tag\":\"FilterMore_tag__2yDA_\",\"tagActive\":\"FilterMore_tagActive__1R4Hk\",\"dl\":\"FilterMore_dl__1Bxih\",\"dt\":\"FilterMore_dt__1HDrv\",\"dd\":\"FilterMore_dd__2UjcS\",\"footer\":\"FilterMore_footer__56JWX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Filter_root__IW9xz\",\"mask\":\"Filter_mask__wpLxV\",\"content\":\"Filter_content__1dqQL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"House_root__1uAlf\",\"header\":\"House_header__2sRMv\",\"searchHeader\":\"House_searchHeader__2J-wf\",\"houseList\":\"House_houseList__3c2XV\",\"loading\":\"House_loading__D-_PM\"};","import React from 'react'\r\n\r\nimport { Flex } from 'antd-mobile'\r\n\r\nimport styles from './index.module.css'\r\n\r\n// 条件筛选栏标题数组：\r\nconst titleList = [\r\n  { title: '区域', type: 'area' },\r\n  { title: '方式', type: 'mode' },\r\n  { title: '租金', type: 'price' },\r\n  { title: '筛选', type: 'more' }\r\n]\r\n\r\nexport default function FilterTitle(props) {\r\n  const { titleSelectedStatus, onTitleClick } = props;\r\n  return (\r\n    <Flex align=\"center\" className={styles.root}>\r\n      {\r\n        titleList.map((item) => <Flex.Item onClick={() => onTitleClick(item.type)} key={item.type}>\r\n          {/* 选中类名： selected */}\r\n          <span className={[styles.dropdown, titleSelectedStatus[item.type] ? styles.selected : ''].join(' ')}>\r\n            <span>{item.title}</span>\r\n            <i className=\"iconfont icon-arrow\" />\r\n          </span>\r\n        </Flex.Item>)\r\n      }\r\n      {/* 遍历静态模版 */}\r\n      {/* <Flex.Item> */}\r\n      {/* 选中类名： selected */}\r\n      {/* <span className={[styles.dropdown, styles.selected].join(' ')}>\r\n          <span>区域</span>\r\n          <i className=\"iconfont icon-arrow\" />\r\n        </span>\r\n      </Flex.Item> */}\r\n    </Flex>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nimport { Flex } from 'antd-mobile'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport styles from './index.module.css'\r\n\r\nfunction FilterFooter({ className, style, onCancel, onOk }) {\r\n  return (\r\n    <Flex style={style} className={[styles.root, className || ''].join(' ')}>\r\n      {/* 取消按钮 */}\r\n      <span onClick={onCancel} className={[styles.btn, styles.cancel].join(' ')}>取消</span>\r\n\r\n      {/* 确定按钮 */}\r\n      <span onClick={onOk} className={[styles.btn, styles.ok].join(' ')}>确定</span>\r\n    </Flex>\r\n  )\r\n}\r\n\r\n// props校验\r\nFilterFooter.propTypes = {\r\n  className: PropTypes.string,\r\n  style: PropTypes.object\r\n}\r\n\r\nexport default FilterFooter\r\n","import React, { Component } from 'react'\r\n\r\nimport { PickerView } from 'antd-mobile'\r\n\r\nimport FilterFooter from '../../../../components/FilterFooter'\r\n\r\n// const province = [\r\n//   {\r\n//     label: '北京',\r\n//     value: '01',\r\n//     children: [\r\n//       {\r\n//         label: '东城区',\r\n//         value: '01-1'\r\n//       },\r\n//       {\r\n//         label: '西城区',\r\n//         value: '01-2'\r\n//       },\r\n//       {\r\n//         label: '崇文区',\r\n//         value: '01-3'\r\n//       },\r\n//       {\r\n//         label: '宣武区',\r\n//         value: '01-4'\r\n//       }\r\n//     ]\r\n//   },\r\n//   {\r\n//     label: '浙江',\r\n//     value: '02',\r\n//     children: [\r\n//       {\r\n//         label: '杭州',\r\n//         value: '02-1',\r\n//         children: [\r\n//           {\r\n//             label: '西湖区',\r\n//             value: '02-1-1'\r\n//           },\r\n//           {\r\n//             label: '上城区',\r\n//             value: '02-1-2'\r\n//           },\r\n//           {\r\n//             label: '江干区',\r\n//             value: '02-1-3'\r\n//           },\r\n//           {\r\n//             label: '下城区',\r\n//             value: '02-1-4'\r\n//           }\r\n//         ]\r\n//       },\r\n//       {\r\n//         label: '宁波',\r\n//         value: '02-2',\r\n//         children: [\r\n//           {\r\n//             label: 'xx区',\r\n//             value: '02-2-1'\r\n//           },\r\n//           {\r\n//             label: 'yy区',\r\n//             value: '02-2-2'\r\n//           }\r\n//         ]\r\n//       },\r\n//       {\r\n//         label: '温州',\r\n//         value: '02-3'\r\n//       },\r\n//       {\r\n//         label: '嘉兴',\r\n//         value: '02-4'\r\n//       },\r\n//       {\r\n//         label: '湖州',\r\n//         value: '02-5'\r\n//       },\r\n//       {\r\n//         label: '绍兴',\r\n//         value: '02-6'\r\n//       }\r\n//     ]\r\n//   }\r\n// ]\r\n\r\nexport default class FilterPicker extends Component {\r\n\r\n  // 设置当前选中状态\r\n  state = {\r\n    value: this.props.value\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('重新初始化！')\r\n  }\r\n\r\n  handlerChange = (value) => {\r\n    this.setState({\r\n      value\r\n    })\r\n  }\r\n  render() {\r\n    const { onCancel, onOk, data, cols } = this.props;\r\n    const { value } = this.state;\r\n    return (\r\n      <>\r\n        {/* 选择器组件： */}\r\n        <PickerView value={value} onChange={this.handlerChange} data={data} cols={cols} />\r\n\r\n        {/* 底部按钮 */}\r\n        <FilterFooter onCancel={onCancel} onOk={() => { onOk(value) }} />\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport FilterFooter from '../../../../components/FilterFooter'\r\n\r\nimport styles from './index.module.css'\r\n\r\nexport default class FilterMore extends Component {\r\n\r\n  // 设置选中值状态\r\n  state = {\r\n    selected: this.props.value\r\n  }\r\n\r\n  // 获取选中数据\r\n  handlerSel = (val) => {\r\n    const { selected } = this.state;\r\n    const newSelected = [...selected]\r\n    // 没有该值，新增（高亮显示）\r\n    let index = newSelected.indexOf(val);\r\n    if (index < 0) {\r\n      newSelected.push(val)\r\n    } else {\r\n      //有，删除（取消高亮）\r\n      newSelected.splice(index, 1)\r\n    }\r\n    console.log('选中：', newSelected);\r\n    this.setState({\r\n      selected: newSelected\r\n    })\r\n  }\r\n\r\n  // 渲染标签\r\n  renderFilters(data) {\r\n    // 高亮类名： styles.tagActive\r\n    // return (\r\n    //   <span className={[styles.tag, styles.tagActive].join(' ')}>东北</span>\r\n    // )\r\n    const { selected } = this.state;\r\n    return data.map((item) => <span\r\n      onClick={() => this.handlerSel(item.value)}\r\n      key={item.value}\r\n      className={[styles.tag, selected.includes(item.value) ? styles.tagActive : ''].join(' ')}>\r\n      {item.label}\r\n    </span>)\r\n  }\r\n\r\n  render() {\r\n    const { onCancel, onOk, data: { roomType, oriented, floor, characteristic } } = this.props;\r\n    console.log(this.props.data);\r\n    return (\r\n      <div className={styles.root}>\r\n        {/* 遮罩层 */}\r\n        <div className={styles.mask} onClick={onCancel} />\r\n\r\n        {/* 条件内容 */}\r\n        <div className={styles.tags}>\r\n          <dl className={styles.dl}>\r\n            <dt className={styles.dt}>户型</dt>\r\n            <dd className={styles.dd}>{this.renderFilters(roomType)}</dd>\r\n\r\n            <dt className={styles.dt}>朝向</dt>\r\n            <dd className={styles.dd}>{this.renderFilters(oriented)}</dd>\r\n\r\n            <dt className={styles.dt}>楼层</dt>\r\n            <dd className={styles.dd}>{this.renderFilters(floor)}</dd>\r\n\r\n            <dt className={styles.dt}>房屋亮点</dt>\r\n            <dd className={styles.dd}>{this.renderFilters(characteristic)}</dd>\r\n          </dl>\r\n        </div>\r\n\r\n        {/* 底部按钮 */}\r\n        <FilterFooter onCancel={onCancel} onOk={() => { onOk(this.state.selected) }} className={styles.footer} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport FilterTitle from '../FilterTitle'\r\nimport FilterPicker from '../FilterPicker'\r\nimport FilterMore from '../FilterMore'\r\n\r\nimport styles from './index.module.css'\r\nimport { getHouseFilters } from '../../../../utils/api/house'\r\nimport { getCurrCity } from '../../../../utils'\r\n\r\n// 标题高亮状态\r\nconst titleSelectedStatus = {\r\n  area: false,\r\n  mode: false,\r\n  price: false,\r\n  more: false\r\n}\r\n\r\n// 选中数据维护\r\nconst selectedValues = {\r\n  area: ['area', 'null'],\r\n  // area: ['area', 'AREA|69cc5f6d-4f29-a77c', 'AREA|73aa1890-64c7-51d9'],\r\n  mode: ['null'],\r\n  // mode: ['true'],\r\n  price: ['null'],\r\n  // price: ['PRICE|1000'],\r\n  more: []\r\n}\r\nexport default class Filter extends Component {\r\n  // 标题高亮状态\r\n  state = {\r\n    titleSelectedStatus: { ...titleSelectedStatus },\r\n    // 打开当前type状态\r\n    openType: ''\r\n  }\r\n\r\n  componentDidMount() {\r\n    // 存储到实例属性上\r\n    this.selectedValues = { ...selectedValues };\r\n    this.getFilterData()\r\n  }\r\n\r\n\r\n  // 获取筛选条件数据\r\n  getFilterData = async () => {\r\n    const { value } = await getCurrCity();\r\n    // 保存城市ID\r\n    this.cityId = value;\r\n    let res = await getHouseFilters(value);\r\n    console.log(res);\r\n    res.status === 200 && (this.filterData = res.data)\r\n\r\n  }\r\n\r\n  // 传递给子组件控制状态的方法\r\n  onTitleClick = (type) => {\r\n    this.setState({\r\n      titleSelectedStatus: { ...titleSelectedStatus, [type]: true },\r\n      openType: type\r\n    })\r\n  }\r\n\r\n  // 控制前三个过滤器内容和遮罩层显隐\r\n  isShow = () => {\r\n    const { openType } = this.state\r\n    return openType === 'area' || openType === 'mode' || openType === 'price'\r\n  }\r\n\r\n  // 关闭前三个过滤器内容和遮罩层\r\n  onCancel = () => {\r\n    // 处理高亮\r\n    let newSel = this.handlerSel();\r\n    this.setState({\r\n      openType: '',\r\n      titleSelectedStatus: newSel\r\n    })\r\n  }\r\n\r\n  // 处理筛选器选中后有无条件的高亮状态\r\n  handlerSel = () => {\r\n    // 创建新的标题选中状态对象\r\n    const newTitleSelectedStatus = {};\r\n    Object.keys(this.selectedValues).forEach((key) => {\r\n      let cur = this.selectedValues[key];\r\n      if (\r\n        (key === 'area') && (cur[1] !==\r\n          \"null\" || cur[0] === 'subway')) {\r\n        newTitleSelectedStatus[key] = true\r\n      } else if (key === 'mode' && cur[0] !== \"null\") {\r\n        newTitleSelectedStatus[key] = true\r\n      } else if (key === 'price' && cur[0] !== \"null\") {\r\n        newTitleSelectedStatus[key] = true\r\n      } else if (key === 'more' && cur.length !== 0) {\r\n        // 更多选择项 FilterMore 组件情况\r\n        newTitleSelectedStatus[key] = true\r\n      } else {\r\n        newTitleSelectedStatus[key] = false\r\n      }\r\n    })\r\n    return newTitleSelectedStatus\r\n  }\r\n\r\n  // 处理后台需要的筛选条件数据\r\n  handlerFilters = (selectedValues) => {\r\n    // 筛选条件数据\r\n    const { area, mode, price, more } = selectedValues;\r\n    // 组装数据\r\n    const filters = {};\r\n    // area | subway\r\n    let areaKey = area[0], aval;\r\n    if (area.length === 2) {\r\n      aval = area[1]\r\n    } else {\r\n      if (area[2] !== 'null') {\r\n        aval = area[2]\r\n      } else {\r\n        aval = area[1]\r\n      }\r\n    }\r\n    filters[areaKey] = aval;\r\n    // mode\r\n    filters.rentType = mode[0]\r\n    // price\r\n    filters.price = price[0]\r\n    // more\r\n    filters.more = more.join(',')\r\n    console.log('filters:', filters);\r\n    return filters\r\n  }\r\n\r\n  // 确定选择过滤条件\r\n  onOk = (sel) => {\r\n    const { openType } = this.state;\r\n    console.log('sel:', openType, sel);\r\n    // 存储到实例属性上\r\n    this.selectedValues[openType] = sel;\r\n    // 当前选中的所有筛选条件数据\r\n    console.log('all-sels:', this.selectedValues)\r\n    // 处理高亮\r\n    let newSel = this.handlerSel();\r\n    console.log('s', newSel);\r\n    this.setState({\r\n      openType: '',\r\n      titleSelectedStatus: newSel\r\n    }, () => {\r\n      // 处理筛选条件数据\r\n      this.props.onFilter(this.handlerFilters(this.selectedValues))\r\n    })\r\n  }\r\n\r\n  // 给Picker组件提供数据\r\n  renderFilterPicker = () => {\r\n    if (this.isShow()) {\r\n      const { openType } = this.state;\r\n      const { area, subway, rentType, price } = this.filterData;\r\n      let data, cols = 1;\r\n      switch (openType) {\r\n        case 'area':\r\n          data = [area, subway];\r\n          cols = 3\r\n          break;\r\n        case 'mode':\r\n          data = rentType;\r\n          cols = 1\r\n          break;\r\n        default:\r\n          data = price;\r\n          cols = 1\r\n      }\r\n      console.log('n-sel:', this.selectedValues[openType])\r\n      return <FilterPicker key={openType} data={data} value={this.selectedValues[openType]} cols={cols} onCancel={this.onCancel} onOk={this.onOk} />\r\n\r\n    }\r\n  }\r\n  // 渲染和处理FilterMore组件\r\n  renderFilterMore = () => {\r\n    const {\r\n      openType\r\n    } = this.state;\r\n    if (openType === 'more') {\r\n      console.log(this.filterData);\r\n      const { roomType, oriented, floor, characteristic } = this.filterData;\r\n      const data = { roomType, oriented, floor, characteristic }\r\n      console.log('n-sel:', this.selectedValues[openType]);\r\n      return <FilterMore\r\n        data={data}\r\n        value={this.selectedValues[openType]}\r\n        onOk={this.onOk}\r\n        onCancel={this.onCancel}\r\n      />\r\n    }\r\n    return null\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.root}>\r\n        {/* 前三个菜单的遮罩层 */}\r\n        {this.isShow() ? <div onClick={this.onCancel} className={styles.mask} /> : null}\r\n\r\n        <div className={styles.content}>\r\n          {/* 标题栏 */}\r\n          <FilterTitle titleSelectedStatus={this.state.titleSelectedStatus} onTitleClick={this.onTitleClick} />\r\n\r\n          {/* 前三个菜单对应的内容： */}\r\n          {this.renderFilterPicker()}\r\n\r\n          {/* 最后一个菜单对应的内容： */}\r\n          {/* <FilterMore /> */}\r\n          {\r\n            this.renderFilterMore()\r\n          }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nimport { Toast } from 'antd-mobile'\r\n\r\nimport Filter from './components/Filter'\r\n// 导入样式\r\nimport styles from './index.module.css'\r\nimport { getHouseByFilters } from '../../utils/api/house'\r\nimport { getCurrCity } from '../../utils'\r\n\r\nimport { List, AutoSizer, InfiniteLoader } from 'react-virtualized';\r\nimport HouseItem from '../../components/HouseItem'\r\nimport { BASE_URL } from '../../utils/axios'\r\nimport NoHouse from '../../components/NoHouse'\r\n\r\nexport default class HouseList extends React.Component {\r\n\r\n  state = {\r\n    // 房屋列表数据\r\n    list: [],\r\n    count: 0\r\n  }\r\n\r\n  async componentDidMount() {\r\n    // 获取城市ID\r\n    const { value } = await getCurrCity();\r\n    this.cityId = value;\r\n    this.getHouseList()\r\n  }\r\n\r\n\r\n  onFilter = async (filters) => {\r\n    console.log('找房列表获取filter数据：', filters);\r\n    this.filters = filters;\r\n    this.getHouseList()\r\n  }\r\n\r\n\r\n  // 加载房屋列表数据\r\n  getHouseList = async () => {\r\n    // 加载提示\r\n    // 第二个参数为0，不自动关闭\r\n    // Toast.loading('加载中...', 0)\r\n    let res = await getHouseByFilters(this.cityId, this.filters, 1, 20);\r\n    console.log(res);\r\n    // 调用hide关闭\r\n    // Toast.hide();\r\n    const { list, count } = res.data;\r\n    if (count !== 0) {\r\n      Toast.success(`获取到${count}条房源信息`, 2)\r\n    }\r\n    this.setState({\r\n      list,\r\n      count\r\n    })\r\n  }\r\n\r\n  // 渲染列表项\r\n  renderHouseItem = ({\r\n    key, // Unique key within array of rows\r\n    index, // Index of row within collection\r\n    isScrolling, // The List is currently being scrolled\r\n    isVisible, // This row is visible within the List (eg it is not an overscanned row)\r\n    style, // Style object to be applied to row (to position it)\r\n  }) => {\r\n    const { list } = this.state\r\n    const item = list[index]\r\n    // 处理暂时没有加载到数据情况\r\n    if (!item) {\r\n      return (\r\n        <div style={style} key={key}>\r\n          <p className={styles.loading}></p>\r\n        </div>\r\n      )\r\n    };\r\n    // console.log(this.props.history)\r\n    // 处理图片地址\r\n    item.src = BASE_URL + item.houseImg;\r\n    // console.log(item);\r\n    return <HouseItem {...item} key={key} onClick={() => { this.props.history.push({ pathname: `/detail/${item.houseCode}` }, { id: item.houseCode }) }} style={style} />\r\n  }\r\n\r\n  // 判断列表中的每一行是否加载完成\r\n  isRowLoaded = ({ index }) => {\r\n    // console.log('rowloaded:', index);\r\n    const { list } = this.state;\r\n    return !!list[index];\r\n  }\r\n\r\n  // 下拉加载更多时触发：加载下一页数据\r\n  loadMoreRows = ({ startIndex, stopIndex }) => {\r\n    console.log('loadmore', startIndex, stopIndex);\r\n    // 调用封装的api(返回一个Promise对象)\r\n    return getHouseByFilters(this.cityId, this.filters, startIndex, stopIndex).then((res) => {\r\n      console.log('loadmore:', res);\r\n      // 刷新视图\r\n      this.setState({\r\n        list: [...this.state.list, ...res.data.list]\r\n      }, () => console.log(this.state.list.length))\r\n    });\r\n  }\r\n\r\n  // 没有数据时显示\r\n  renderNoHouse = () => {\r\n    return <NoHouse>没有更多房源,请换个搜索条件吧</NoHouse>\r\n  }\r\n  // 渲染列表\r\n  renderHouseList = () => {\r\n    const { count } = this.state;\r\n    // 没有数据渲染NoHouse组件\r\n    return count === 0 ? this.renderNoHouse() : (\r\n      <InfiniteLoader\r\n        isRowLoaded={this.isRowLoaded}\r\n        loadMoreRows={this.loadMoreRows}\r\n        // 远程数据总条数\r\n        rowCount={this.state.count}\r\n      >\r\n        {({ onRowsRendered, registerChild }) => (\r\n          <AutoSizer>\r\n            {({ height, width }) => (\r\n              <List\r\n                className={styles.houseList}\r\n                height={height}\r\n                rowCount={this.state.count}\r\n                rowHeight={130}\r\n                rowRenderer={this.renderHouseItem}\r\n                onRowsRendered={onRowsRendered}\r\n                ref={registerChild}\r\n                width={width}\r\n              />\r\n            )}\r\n          </AutoSizer>\r\n        )}\r\n      </InfiniteLoader>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.root}>\r\n        {/* 条件筛选栏 */}\r\n        <Filter onFilter={this.onFilter} />\r\n        {/* 列表 */}\r\n        {this.renderHouseList()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}